# Migration `20200517024050-init`

This migration has been generated by eshell at 5/17/2020, 2:40:50 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Profile" DROP CONSTRAINT IF EXiSTS "Profile_user_fkey",
DROP COLUMN "user",
ADD COLUMN "userId" integer   ;

CREATE UNIQUE INDEX "Profile_userId" ON "public"."Profile"("userId")

ALTER TABLE "public"."Profile" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200516150533-init..20200517024050-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,22 +3,30 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
-model User {
-  email String  @unique
-  id    Int     @default(autoincrement()) @id
-  name  String?
-  posts Post[]
-}
-
 model Post {
   authorId  Int?
   content   String?
   id        Int     @default(autoincrement()) @id
   published Boolean @default(false)
   title     String
   author    User?   @relation(fields: [authorId], references: [id])
+}
+
+model Profile {
+  bio    String?
+  id     Int     @id
+  userId Int?
+  user   User?   @relation(fields: [userId], references: [id])
+}
+
+model User {
+  email   String   @unique
+  id      Int      @default(autoincrement()) @id
+  name    String?
+  posts   Post[]
+  profile Profile?
 }
```


